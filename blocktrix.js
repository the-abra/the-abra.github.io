// Language translations
const translations = {
  tr: {
    // Navigation
    about: "Hakkımda",
    skills: "Yetenekler",
    projects: "Projeler",
    experience: "Deneyim",
    contact: "İletişim",

    // Hero Section
    heroTitle: "DevOps Mühendisi & Yazılım Mimarı",
    heroDescription:
      "DevOps uygulamaları, bulut mimarisi ve mekatronik sistem entegrasyonu konularında uzmanlığımla fikirleri ölçeklenebilir çözümlere dönüştürüyorum. Yenilikçi otomasyon ve akıllı sistem tasarımı ile teknolojinin geleceğini inşa ediyorum.",
    downloadResume: "Özgeçmiş İndir",
    getInTouch: "İletişime Geç",

    // About Section
    aboutTitle: "Hakkımda",
    aboutSubtitle: "Yenilikçi yazılım çözümleri ve sağlam sistem mimarisi arasında köprü kuruyorum",
    aboutDescription1:
      "Mekatronik Mühendisliği geçmişine sahip tutkulu bir DevOps Mühendisi ve Yazılım Mimarıyım. Bu kombinasyon, modern sistemlerin hem yazılım hem de donanım yönlerini anlamamı sağlayarak, karmaşık ortamlarda ölçeklenebilir çözümler uygulamada özellikle etkili olmamı mümkün kılıyor.",
    aboutDescription2:
      "Mekatronik alanındaki ön lisans derecim ve bulut teknolojilerindeki kapsamlı deneyimimle, destekledikleri sistemleri derinlemesine anlayarak sağlam, ölçeklenebilir altyapı çözümleri yaratma konusunda uzmanlaştım. Yaklaşımım, son teknoloji DevOps uygulamalarını sağlam mühendislik prensipleriyle birleştiriyor.",
    associatesDegree: "Mekatronik Ön Lisans",
    awsCertified: "AWS Sertifikalı",
    yearsExperience: "5+ Yıl Deneyim",
    infrastructure: "Altyapı",
    cloudOnPremise: "Bulut & Yerinde",
    automation: "Otomasyon",
    cicdIndustrial: "CI/CD & Endüstriyel",
    cloudNative: "Bulut Doğal",
    kubernetesDocker: "Kubernetes & Docker",
    integration: "Entegrasyon",
    systemsTools: "Sistemler & Araçlar",

    // Skills Section
    skillsTitle: "Yetenekler & Uzmanlık",
    skillsSubtitle:
      "Modern DevOps uygulamaları, bulut teknolojileri ve sistem entegrasyonunu kapsayan kapsamlı bir araç seti",
    devopsCloud: "DevOps & Bulut",
    mechatronics: "Mekatronik",
    programming: "Programlama",
    softSkills: "Kişisel Yetenekler",

    // Projects Section
    projectsTitle: "Öne Çıkan Projeler",
    projectsSubtitle:
      "DevOps otomasyonu, sistem entegrasyonu ve son teknoloji uygulamalarını kapsayan yenilikçi çözümlerin sergilenmesi.",
    viewAllProjects: "Tüm Projeleri Görüntüle",
    code: "Kod",
    demo: "Demo",

    // Experience Section
    experienceTitle: "Deneyim",
    seniorDevopsEngineer: "Kıdemli DevOps Mühendisi",
    devopsEngineer: "DevOps Mühendisi",
    mechatronicsTechnician: "Mekatronik Teknisyeni",
    present: "Günümüz",

    // Contact Section
    contactTitle: "İletişime Geçin",
    contactSubtitle:
      "Bir sonraki projenizi tartışmaya veya fırsatları keşfetmeye hazır mısınız? Sizden haber almak isterim.",
    letsConnect: "Bağlantı Kuralım",
    email: "E-posta",
    linkedin: "LinkedIn",
    github: "GitHub",
    areasOfInterest: "İlgi Alanları",
    devopsConsulting: "DevOps Danışmanlığı",
    cloudMigration: "Bulut Geçişi",
    industrialIot: "Endüstriyel IoT",
    mentoring: "Mentorluk",
    sendMessage: "Mesaj Gönder",
    name: "Ad",
    subject: "Konu",
    message: "Mesaj",
    organization: "Kuruluş",
    interest: "İlgi",

    // Footer
    builtWith: "HTML, CSS ve JavaScript ile geliştirildi ve GitHub Pages'de dağıtıldı.",
  },
  en: {
    // Navigation
    about: "About",
    skills: "Skills",
    projects: "Projects",
    experience: "Experience",
    contact: "Contact",

    // Hero Section
    heroTitle: "DevOps Engineer & Software Architect",
    heroDescription:
      "Transforming ideas into scalable solutions with expertise in DevOps practices, cloud architecture, and mechatronic systems integration. Building the future of technology through innovative automation and intelligent system design.",
    downloadResume: "Download Resume",
    getInTouch: "Get In Touch",

    // About Section
    aboutTitle: "About Me",
    aboutSubtitle: "Bridging the gap between innovative software solutions and robust system architecture",
    aboutDescription1:
      "I'm a passionate DevOps Engineer and Software Architect with a unique background in Mechatronics Engineering. This combination allows me to understand both the software and hardware aspects of modern systems, making me particularly effective at implementing scalable solutions in complex environments.",
    aboutDescription2:
      "With my Associate's degree in Mechatronics and extensive experience in cloud technologies, I specialize in creating robust, scalable infrastructure solutions while maintaining a deep understanding of the systems they support. My approach combines cutting-edge DevOps practices with solid engineering principles.",
    associatesDegree: "Associate's in Mechatronics",
    awsCertified: "AWS Certified",
    yearsExperience: "5+ Years Experience",
    infrastructure: "Infrastructure",
    cloudOnPremise: "Cloud & On-Premise",
    automation: "Automation",
    cicdIndustrial: "CI/CD & Industrial",
    cloudNative: "Cloud Native",
    kubernetesDocker: "Kubernetes & Docker",
    integration: "Integration",
    systemsTools: "Systems & Tools",

    // Skills Section
    skillsTitle: "Skills & Expertise",
    skillsSubtitle:
      "A comprehensive toolkit spanning modern DevOps practices, cloud technologies, and system integration",
    devopsCloud: "DevOps & Cloud",
    mechatronics: "Mechatronics",
    programming: "Programming",
    softSkills: "Soft Skills",

    // Projects Section
    projectsTitle: "Featured Projects",
    projectsSubtitle:
      "A showcase of innovative solutions spanning DevOps automation, system integration, and cutting-edge technology implementations.",
    viewAllProjects: "View All Projects",
    code: "Code",
    demo: "Demo",

    // Experience Section
    experienceTitle: "Experience",
    seniorDevopsEngineer: "Senior DevOps Engineer",
    devopsEngineer: "DevOps Engineer",
    mechatronicsTechnician: "Mechatronics Technician",
    present: "Present",

    // Contact Section
    contactTitle: "Get In Touch",
    contactSubtitle: "Ready to discuss your next project or explore opportunities? I'd love to hear from you.",
    letsConnect: "Let's Connect",
    email: "Email",
    linkedin: "LinkedIn",
    github: "GitHub",
    areasOfInterest: "Areas of Interest",
    devopsConsulting: "DevOps Consulting",
    cloudMigration: "Cloud Migration",
    industrialIot: "Industrial IoT",
    mentoring: "Mentoring",
    sendMessage: "Send Message",
    name: "Name",
    subject: "Subject",
    message: "Message",
    organization: "Organization",
    interest: "Interest",

    // Footer
    builtWith: "Built with HTML, CSS and JavaScript and deployed on GitHub Pages.",
  },
}

// Global state
let currentLanguage = "tr"
let currentTheme = "dark"

// Import Lucide icons library
const lucide = window.lucide

// Initialize the application
document.addEventListener("DOMContentLoaded", () => {
  initializeIcons()
  initializeTheme()
  initializeLanguage()
  initializeNavigation()
  initializeContactForm()
  initializeScrollEffects()
  initializeTabs()
  initializeBlockCategories()
  addScrollToTopButton()
})

// Initialize Lucide icons
function initializeIcons() {
  if (typeof lucide !== "undefined") {
    lucide.createIcons()
  }
}

// Theme management
function initializeTheme() {
  const savedTheme = localStorage.getItem("blocktrix-theme")
  if (savedTheme) {
    currentTheme = savedTheme
  }

  applyTheme(currentTheme)

  const themeToggle = document.querySelector(".theme-toggle")
  if (themeToggle) {
    themeToggle.addEventListener("click", toggleTheme)
  }
}

function toggleTheme() {
  currentTheme = currentTheme === "dark" ? "light" : "dark"
  applyTheme(currentTheme)
  localStorage.setItem("blocktrix-theme", currentTheme)
}

function applyTheme(theme) {
  const html = document.documentElement
  html.className = theme
}

// Language management
function initializeLanguage() {
  const savedLanguage = localStorage.getItem("language")
  if (savedLanguage) {
    currentLanguage = savedLanguage
  }

  applyLanguage(currentLanguage)

  const languageToggle = document.querySelector(".language-toggle")
  if (languageToggle) {
    languageToggle.addEventListener("click", toggleLanguage)
  }
}

function toggleLanguage() {
  currentLanguage = currentLanguage === "tr" ? "en" : "tr"
  applyLanguage(currentLanguage)
  localStorage.setItem("language", currentLanguage)

  // Update HTML lang attribute
  document.documentElement.lang = currentLanguage
}

function applyLanguage(language) {
  const elements = document.querySelectorAll("[data-translate]")
  elements.forEach((element) => {
    const key = element.getAttribute("data-translate")
    if (translations[language] && translations[language][key]) {
      element.textContent = translations[language][key]
    }
  })

  // Update language toggle text
  const languageText = document.querySelector(".language-text")
  if (languageText) {
    languageText.textContent = language.toUpperCase()
  }
}

// Navigation
function initializeNavigation() {
  // Smooth scrolling for navigation links
  const navLinks = document.querySelectorAll('.nav-menu a[href^="#"]')
  navLinks.forEach((link) => {
    link.addEventListener("click", function (e) {
      e.preventDefault()
      const targetId = this.getAttribute("href")
      const targetElement = document.querySelector(targetId)

      if (targetElement) {
        const offsetTop = targetElement.offsetTop - 80 // Account for fixed nav
        window.scrollTo({
          top: offsetTop,
          behavior: "smooth",
        })
      }
    })
  })

  // Navigation background on scroll
  window.addEventListener("scroll", () => {
    const nav = document.querySelector(".nav")
    if (nav) {
      if (window.scrollY > 50) {
        nav.style.background = "rgba(0, 0, 0, 0.95)"
      } else {
        nav.style.background = "rgba(0, 0, 0, 0.8)"
      }
    }
  })
}

// Contact form
function initializeContactForm() {
  const contactForm = document.getElementById("contactForm")
  if (contactForm) {
    contactForm.addEventListener("submit", handleContactFormSubmit)
  }
}

function handleContactFormSubmit(e) {
  e.preventDefault()

  const formData = new FormData(e.target)
  const data = {
    name: formData.get("name"),
    email: formData.get("email"),
    organization: formData.get("organization"),
    interest: formData.get("interest"),
    message: formData.get("message"),
  }

  // Here you would typically send the data to a server
  console.log("Contact form submitted:", data)

  // Show success message
  showNotification("Your request has been sent successfully! We'll get back to you soon.", "success")

  // Reset form
  e.target.reset()
}

// Notification system
function showNotification(message, type = "info") {
  const notification = document.createElement("div")
  notification.className = `notification notification-${type}`
  notification.textContent = message

  // Add styles
  notification.style.cssText = `
        position: fixed;
        top: 100px;
        right: 20px;
        background: ${type === "success" ? "#10B981" : "#3B82F6"};
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 0.5rem;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        z-index: 10000;
        transform: translateX(100%);
        transition: transform 0.3s ease;
        max-width: 300px;
    `

  document.body.appendChild(notification)

  // Animate in
  setTimeout(() => {
    notification.style.transform = "translateX(0)"
  }, 100)

  // Remove after 4 seconds
  setTimeout(() => {
    notification.style.transform = "translateX(100%)"
    setTimeout(() => {
      if (document.body.contains(notification)) {
        document.body.removeChild(notification)
      }
    }, 300)
  }, 4000)
}

// Scroll effects
function initializeScrollEffects() {
  // Intersection Observer for animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: "0px 0px -50px 0px",
  }

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.style.opacity = "1"
        entry.target.style.transform = "translateY(0)"
      }
    })
  }, observerOptions)

  // Observe elements for animation
  const animatedElements = document.querySelectorAll(
    ".feature-card, .block-card, .pricing-card, .application-card, .related-card",
  )
  animatedElements.forEach((el) => {
    el.style.opacity = "0"
    el.style.transform = "translateY(30px)"
    el.style.transition = "opacity 0.6s ease, transform 0.6s ease"
    observer.observe(el)
  })
}

// Tab functionality
function initializeTabs() {
  const tabButtons = document.querySelectorAll(".tab-btn")
  const tabContents = document.querySelectorAll(".tab-content")

  tabButtons.forEach((button) => {
    button.addEventListener("click", () => {
      const targetTab = button.getAttribute("data-tab")

      // Remove active class from all buttons and contents
      tabButtons.forEach((btn) => btn.classList.remove("active"))
      tabContents.forEach((content) => content.classList.remove("active"))

      // Add active class to clicked button and corresponding content
      button.classList.add("active")
      const targetContent = document.getElementById(targetTab)
      if (targetContent) {
        targetContent.classList.add("active")
      }
    })
  })
}

// Block categories functionality
function initializeBlockCategories() {
  const categoryButtons = document.querySelectorAll(".category-tabs .tab-btn")
  const blockCards = document.querySelectorAll(".block-card")

  categoryButtons.forEach((button) => {
    button.addEventListener("click", () => {
      const targetCategory = button.getAttribute("data-category")

      // Remove active class from all buttons
      categoryButtons.forEach((btn) => btn.classList.remove("active"))
      button.classList.add("active")

      // Show/hide blocks based on category
      blockCards.forEach((card) => {
        const cardCategory = card.getAttribute("data-category")
        if (targetCategory === "all" || cardCategory === targetCategory) {
          card.style.display = "block"
          // Trigger animation
          setTimeout(() => {
            card.style.opacity = "1"
            card.style.transform = "translateY(0)"
          }, 100)
        } else {
          card.style.display = "none"
        }
      })
    })
  })
}

// Smooth scroll to top functionality
function scrollToTop() {
  window.scrollTo({
    top: 0,
    behavior: "smooth",
  })
}

// Add scroll to top button
function addScrollToTopButton() {
  const scrollButton = document.createElement("button")
  scrollButton.innerHTML = '<i data-lucide="arrow-up"></i>'
  scrollButton.className = "scroll-to-top"
  scrollButton.style.cssText = `
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    width: 3rem;
    height: 3rem;
    background: linear-gradient(45deg, var(--primary-blue), var(--primary-cyan));
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  `

  scrollButton.addEventListener("click", scrollToTop)
  document.body.appendChild(scrollButton)

  // Show/hide scroll button based on scroll position
  window.addEventListener("scroll", () => {
    if (window.scrollY > 300) {
      scrollButton.style.display = "flex"
    } else {
      scrollButton.style.display = "none"
    }
  })

  // Initialize icons for the new button
  if (typeof lucide !== "undefined") {
    lucide.createIcons()
  }
}

// Product demo functionality (placeholder)
function playProductDemo() {
  showNotification("Product demo coming soon! Contact us for a live demonstration.", "info")
}

// Download catalog functionality (placeholder)
function downloadCatalog() {
  showNotification("Catalog download will be available soon. Contact us for detailed specifications.", "info")
}

// Shopping cart functionality (placeholder)
const cart = []

function addToCart(blockType, price = 0) {
  cart.push({ blockType, price, quantity: 1 })
  updateCartDisplay()
  showNotification(`${blockType} added to cart!`, "success")
}

function updateCartDisplay() {
  const cartCount = cart.reduce((total, item) => total + item.quantity, 0)
  const cartButtons = document.querySelectorAll('button:contains("Order Now")')

  // Update cart button text if it exists
  cartButtons.forEach((button) => {
    if (cartCount > 0) {
      button.innerHTML = `<i data-lucide="shopping-cart"></i> Cart (${cartCount})`
    }
  })
}

// Initialize cart functionality
document.addEventListener("DOMContentLoaded", () => {
  const orderButtons = document.querySelectorAll("button")
  orderButtons.forEach((button) => {
    if (button.textContent.includes("Order Now") || button.textContent.includes("Add to Kit")) {
      button.addEventListener("click", () => {
        const blockType =
          button.closest(".block-card, .pricing-card")?.querySelector("h3")?.textContent || "Blocktrix Kit"
        addToCart(blockType)
      })
    }
  })
})

// Utility functions
function debounce(func, wait) {
  let timeout
  return function executedFunction(...args) {
    const later = () => {
      clearTimeout(timeout)
      func(...args)
    }
    clearTimeout(timeout)
    timeout = setTimeout(later, wait)
  }
}

// Handle window resize
window.addEventListener(
  "resize",
  debounce(() => {
    // Reinitialize icons after potential layout changes
    if (typeof lucide !== "undefined") {
      lucide.createIcons()
    }
  }, 250),
)

// Handle visibility change (for performance)
document.addEventListener("visibilitychange", () => {
  if (document.hidden) {
    // Pause animations when tab is not visible
    document.body.style.animationPlayState = "paused"
  } else {
    // Resume animations when tab becomes visible
    document.body.style.animationPlayState = "running"
  }
})

// Keyboard navigation support
document.addEventListener("keydown", (e) => {
  // ESC key to close any open modals/menus
  if (e.key === "Escape") {
    // Close any open elements
    const openElements = document.querySelectorAll(".open, .active")
    openElements.forEach((el) => {
      if (!el.classList.contains("tab-btn") && !el.classList.contains("tab-content")) {
        el.classList.remove("open", "active")
      }
    })
  }
})

// Performance monitoring
if ("performance" in window) {
  window.addEventListener("load", () => {
    setTimeout(() => {
      const perfData = performance.getEntriesByType("navigation")[0]
      if (perfData) {
        console.log("Page load time:", perfData.loadEventEnd - perfData.loadEventStart, "ms")
      }
    }, 0)
  })
}
